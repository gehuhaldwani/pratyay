---
import { Image } from "astro:assets";

import slide1 from "@/assets/slides/1.jpg";
import slide2 from "@/assets/slides/2.jpg";
import slide3 from "@/assets/slides/3.jpg";
import slide4 from "@/assets/slides/4.jpg";
import slide5 from "@/assets/slides/5.jpg";
---

<!-- Swiper -->
<div class="swiper-container mySwiper">
	<div class="swiper-wrapper">
		<div class="swiper-slide">
			<div
				class="relative w-full flex-none overflow-hidden bg-white dark:bg-pacamara-dark rotate-2 rounded-[15px]"
			>
				<Image
					src={slide1}
					width={800}
					alt=""
					class="object-cover image-shine h-[200px] md:h-[500px]"
				/>
			</div>
		</div>
		<div class="swiper-slide">
			<div
				class="relative w-full flex-none overflow-hidden bg-white dark:bg-pacamara-dark -rotate-2 rounded-[15px]"
			>
				<Image
					src={slide2}
					width={800}
					alt=""
					class="object-cover image-shine h-[200px] md:h-[500px]"
				/>
			</div>
		</div>
		<div class="swiper-slide">
			<div
				class="relative w-full flex-none overflow-hidden bg-white dark:bg-pacamara-dark rotate-2 rounded-[15px]"
			>
				<Image
					src={slide3}
					width={800}
					alt=""
					class="object-cover image-shine h-[200px] md:h-[500px]"
				/>
			</div>
		</div>
		<div class="swiper-slide">
			<div
				class="relative w-full flex-none overflow-hidden bg-white dark:bg-pacamara-dark rotate-2 rounded-[15px]"
			>
				<Image
					src={slide4}
					width={800}
					alt=""
					class="object-cover image-shine h-[200px] md:h-[500px]"
				/>
			</div>
		</div>
		<div class="swiper-slide">
			<div
				class="relative w-full flex-none overflow-hidden bg-white dark:bg-pacamara-dark -rotate-2 rounded-[15px]"
			>
				<Image
					src={slide5}
					width={800}
					alt=""
					class="object-cover image-shine h-[200px] md:h-[500px]"
				/>
			</div>
		</div>
	</div>
</div>

<style>
	.swiper-container {
		width: 100%;
		height: 100%;
	}

	.swiper-slide {
		/* Center slide text vertically */
		display: -webkit-box;
		display: -ms-flexbox;
		display: -webkit-flex;
		display: flex;
		-webkit-box-pack: center;
		-ms-flex-pack: center;
		-webkit-justify-content: center;
		justify-content: center;
		-webkit-box-align: center;
		-ms-flex-align: center;
		-webkit-align-items: center;
		align-items: center;
	}
</style>

<script>
	import Swiper from "swiper";
	// import Swiper styles
	import "swiper/css";

	let swiper: Swiper;

	function initSwiper() {
		console.log("initSwiper");
		swiper = new Swiper(".swiper-container", {
			spaceBetween: 18,
			slidesPerView: 3,
			loop: true,
			freeMode: true,
		});
		resizeSwiper();
	}
	function resizeSwiper() {
		if (window.innerWidth > 1023) {
			swiper.params.slidesPerView = 5;
			swiper.params.spaceBetween = 24;
		} else if (window.innerWidth > 639) {
			swiper.params.slidesPerView = 4;
			swiper.params.spaceBetween = 20;
		} else {
			swiper.params.slidesPerView = 3;
			swiper.params.spaceBetween = 16;
		}
		swiper.update();
	}

	initSwiper();
	window.addEventListener("resize", resizeSwiper);
</script>
